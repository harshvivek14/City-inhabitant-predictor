import streamlit as st

two_letter_dict = {'ia': {'ian': 46, 'ias': 1}, 'on': {'onite': 3, 'onian': 27, 'oner': 2, 'onese': 2}, 'an': {'anais': 1, 'ani': 10, 'anian': 7, 'anite': 1, 'anese': 6, 'antsi': 1}, 'nd': {'nder': 14}, 'ng': {'ngite': 8, 'nger': 1, 'ngian': 2}, 'ta': {'tan': 10, 'tanais': 1}, 'in': {'inite': 4, 'iner': 3, 'inian': 1, 'inese': 1, 'ini': 1}, 'rg': {'rger': 7, 'rgite': 1, 'rgian': 1, 'rgeois': 1}, 'ya': {'yan': 8, 'yanite': 1}, 'ba': {'bawi': 1, 'ban': 6, 'bano': 1, 'baite': 1}, 'en': {'enese': 1, 'ener': 4, 'ennais': 1, 'eni': 1, 'enite': 1, 'enian': 1}, 'er': {'erite': 4, 'erian': 3, 'eran': 1, 'erien': 1}, 'ca': {'can': 8, 'cais': 1}, 'am': {'ammer': 2, 'amian': 2, 'amese': 1, 'amer': 1, 'amite': 1}, 'al': {'ali': 3, 'alois': 1, 'aler': 1, 'alite': 1, 'alese': 1}, 'st': {'stie': 1, 'ster': 4, 'stian': 2}, 'ai': {'aite': 2, 'aikar': 1, 'ainese': 1, 'aisian': 1, 'ainer': 1, 'aiite': 1}, 'ra': {'ran': 5, 'ralı': 1}, 're': {'rean': 5, 'reian': 1}, 'rd': {'rdian': 6}, 'is': {'isiens': 1, 'isian': 4, 'isan': 1}, 'ne': {'neite': 2, 'nean': 2, 'nekar': 1, 'ner': 1}, 'li': {'lian': 3, 'litan': 1, 'litano': 1, 'li-an': 1}, 'ka': {'kai': 1, 'kade': 1, 'kan': 3, 'kaiya': 1}, 'ua': {'uan': 6}, 'la': {'lan': 6}, 'va': {'van': 4, 'vaian': 1}, 'sa': {'sanese': 1, 'sanian': 1, 'san': 3}, 'th': {'thian': 4, 'thite': 1}, 'ar': {'arois': 1, 'arian': 1, 'ari': 2, 'aran': 1}, 'at': {'atian': 2, 'atin': 1, 'ati': 2}, 'ad': {'adi': 3, 'adian': 2}, 'na': {'naiya': 1, 'nan': 3, 'naian': 1}, 'de': {'dean': 2, 'detan': 1, 'der': 1}, 'ti': {'tian': 4}, 'hi': {'hite': 2, 'hiya': 1, 'hian': 1}, 'rt': {'rtian': 2, 'rter': 2}, 'ul': {'ulite': 3, 'uli': 1}, 'ay': {'ayite': 1, 'ayan': 3}, 'ru': {'ruvian': 2, 'ruan': 2}, 'us': {'usian': 2, 'usite': 1}, 'ue': {'uean': 2, 'uer': 1}, 'se': {'sean': 2, 'ser': 1}, 'oa': {'oan': 3}, 'lo': {'lonian': 2, 'lovian': 1}, 'go': {'goan': 2, 'golese': 1}, 'ao': {'aoeño': 2, 'aoan': 1}, 'it': {'iter': 1, 'itite': 1, 'iti': 1}, 'ju': {'juite': 3}, 'ir': {'irite': 1, 'irian': 2}, 'ha': {'han': 3}, 'da': {'dan': 3}, 'gh': {'ghi': 1, 'gher': 1, 'ghite': 1}, 'ke': {'ker': 3}, 'or': {'orian': 2, 'orite': 1}, 'ga': {'gan': 2, 'gans': 1}, 'le': {'leite': 1, 'lenaar': 1, 'lean': 1}, 'ch': {'cher': 1, 'chian': 2}, 'ge': {'geite': 1, 'gean': 1}, 'od': {'odi': 1, 'odnon': 1}, 'rn': {'rnese': 1, 'rnian': 1}, 'ak': {'akian': 2}, 'um': {'umite': 1, 'umian': 1}, 'te': {'tean': 1, 'teño': 1}, 'ck': {'ckian': 1, 'ckman': 1}, 'tt': {'ttite': 1, 'ttois': 1}, 'nt': {'ntian': 2}, 'il': {'ilean': 1, 'ilian': 1}, 'mi': {'mite': 1, 'mian': 1}, 'fa': {'fan': 2}, 'll': {'llite': 2}, 'em': {'emite': 2}, 'ri': {'rian': 1, 'riti': 1}, 'iv': {'ivite': 1, 'ivi': 1}, 'ee': {'eean': 2}, 'ot': {'oter': 1, 'otter': 1}, 'bi': {'bian': 2}, 'du': {'dunite': 1, 'duite': 1}, 'ah': {'ahan': 1, 'ahn': 1}, 'ur': {'uria': 1, 'urite': 1}, 'et': {'eti': 1, 'etian': 1}, 'ma': {'man': 1, 'manian': 1}, 'ei': {'eian': 2}, 'ea': {'ean': 2}, 'au': {'auan': 2}, 'we': {'wean': 2}, 'to': {'tonian': 2}, 'ik': {'ikian': 1, 'iker': 1}, 'ek': {'ekite': 1, 'eker': 1}, 'fi': {'fitan': 1}, 'ku': {'kuvian': 1}, 'ok': {'okian': 1}, 'ut': {'uti': 1}, 'ol': {'olian': 1}, 'yn': {'ynite': 1}, 'ns': {'nsite': 1}, 'ff': {'ffian': 1}, 'bu': {'buano': 1}, 'gu': {'guite': 1}, 'as': {'asite': 1}, 'so': {'soan': 1}, 'za': {'zan': 1}, 'az': {'azer': 1}, 'oi': {'oian': 1}, 'ki': {'kian': 1}, 'ss': {'ssian': 1}, 'oh': {'ohian': 1}, 'os': {'osian': 1}, 'ig': {'iger': 1}, 'nz': {'nzer': 1}, 'sk': {'skite': 1}, 'ow': {'owite': 1}, 'mo': {'moite': 1}, 'lk': {'lker': 1}, 'nk': {'nkian': 1}, 'ty': {'tyan': 1}, 'wa': {'wan': 1}, 'nh': {'nher': 1}, 'vo': {'voan': 1}, 'no': {'noite': 1}, 'ye': {'yer': 1}, 'un': {'unite': 1}, 'rs': {'rsite': 1}, 'ld': {'ldian': 1}, 'lm': {'lmer': 1}, 'nn': {'nner': 1}, 'pa': {'pan': 1}, 'tu': {'tuan': 1}, 'si': {'sian': 1}, 'uz': {'uzano': 1}, 'ag': {'agite': 1}, 'co': {'coite': 1}, 'fe': {'fer': 1}, 'su': {'suite': 1}, 'eb': {'eber': 1}, 'sh': {'shi': 1}, 'ze': {'zean': 1}, 'pt': {'ptian': 1}, 'ji': {'jian': 1}, 'aq': {'aqi': 1}, 'el': {'eli': 1}, 'wi': {'wian': 1}, 'mé': {'méan': 1}, 'me': {'mer': 1}, 'lu': {'luan': 1}, 'eg': {'egger': 1}, 'yo': {'yoite': 1}, 'ou': {'ouite': 1}, 'wn': {'wnian': 1}, 'rk': {'rker': 1}, 'ls': {'lsite': 1}, 'dh': {'dhian': 1}, 'hu': {'huan': 1}, 'bo': {'boite': 1}, 'aw': {'awian': 1}, 'be': {'bean': 1}, 'dy': {'dyan': 1}, 'ro': {'roan': 1}, 'ko': {'koan': 1}, 'di': {'dian': 1}, 'ja': {'jaite': 1}}

three_letter_dict = {'ton': {'tonian': 18, 'tonite': 1}, 'and': {'ander': 13}, 'ria': {'rian': 10}, 'urg': {'urger': 6, 'urgite': 1, 'urgian': 1, 'urgeois': 1}, 'nia': {'nian': 9}, 'sia': {'sias': 1, 'sian': 7}, 'tan': {'tani': 7, 'tanese': 1}, 'ord': {'ordian': 6}, 'ore': {'orean': 4, 'oreian': 1}, 'aka': {'akai': 1, 'akade': 1, 'akan': 2, 'akaiya': 1}, 'ang': {'angite': 3, 'angian': 2}, 'ica': {'ican': 5}, 'ast': {'astie': 1, 'aster': 2, 'astian': 1}, 'rta': {'rtanais': 1, 'rtan': 3}, 'uba': {'uban': 3, 'ubaite': 1}, 'dan': {'danian': 1, 'danese': 3}, 'man': {'mani': 2, 'manian': 1}, 'dam': {'dammer': 2, 'damer': 1}, 'ara': {'aran': 2, 'aralı': 1}, 'ing': {'inger': 1, 'ingite': 2}, 'gen': {'genese': 1, 'gener': 1, 'genite': 1}, 'cia': {'cian': 3}, 'est': {'ester': 2, 'estian': 1}, 'ver': {'verite': 2, 'verian': 1}, 'bai': {'baite': 2, 'baikar': 1}, 'bad': {'badi': 2, 'badian': 1}, 'nya': {'nyanite': 1, 'nyan': 2}, 'nda': {'ndan': 3}, 'ran': {'rani': 1, 'ranian': 2}, 'bia': {'bian': 3}, 'tar': {'tarian': 1, 'tari': 1, 'taran': 1}, 'ide': {'idean': 1, 'idetan': 1}, 'ong': {'ongite': 2}, 'aba': {'abawi': 1, 'aban': 1}, 'lon': {'lonian': 2}, 'lin': {'liner': 2}, 'pal': {'pali': 2}, 'rum': {'rumite': 1, 'rumian': 1}, 'san': {'sanian': 2}, 'rra': {'rran': 2}, 'nai': {'naite': 1, 'naisian': 1}, 'uth': {'uthian': 2}, 'din': {'dinite': 1, 'dinian': 1}, 'ent': {'entian': 2}, 'gju': {'gjuite': 2}, 'art': {'artian': 1, 'arter': 1}, 'eon': {'eoner': 1, 'eonite': 1}, 'bul': {'bulite': 1, 'buli': 1}, 'mir': {'mirite': 1, 'mirian': 1}, 'lem': {'lemite': 2}, 'don': {'doner': 2, 'donian': 1}, 'viv': {'vivite': 1, 'vivi': 1}, 'cca': {'ccan': 2}, 'isa': {'isanian': 1, 'isan': 1}, 'ris': {'risian': 2}, 'ina': {'inan': 2}, 'ata': {'atan': 2}, 'via': {'vian': 2}, 'son': {'sonian': 2}, 'slo': {'slovian': 1, 'slonian': 1}, 'ake': {'aker': 2}, 'rth': {'rthite': 1, 'rthian': 1}, 'gia': {'gian': 2}, 'iga': {'igan': 1, 'igans': 1}, 'pur': {'puria': 1, 'purite': 1}, 'ita': {'itan': 2}, 'uis': {'uisan': 1, 'uisian': 1}, 'oli': {'olitan': 1, 'olitano': 1}, 'ova': {'ovan': 2}, 'gal': {'galite': 1, 'galese': 1}, 'moa': {'moan': 2}, 'lia': {'lian': 2}, 'dia': {'dian': 2}, 'uti': {'utian': 2}, 'ala': {'alan': 2}, 'ali': {'alian': 2}, 'gua': {'guan': 2}, 'lau': {'lauan': 2}, 'uay': {'uayan': 2}, 'eru': {'eruvian': 1, 'eruan': 1}, 'aam': {'aamian': 1, 'aamite': 1}, 'pia': {'pian': 2}, 'hus': {'husian': 1}, 'jan': {'janais': 1}, 'que': {'quean': 1}, 'lfi': {'lfitan': 1}, 'mon': {'monite': 1}, 'age': {'ageite': 1}, 'kya': {'kyan': 1}, 'lya': {'lyan': 1}, 'sta': {'stan': 1}, 'dod': {'dodi': 1}, 'nta': {'ntan': 1}, 'tin': {'tinite': 1}, 'lod': {'lodnon': 1}, 'aku': {'akuvian': 1}, 'ung': {'ungite': 1}, 'kok': {'kokian': 1}, 'sal': {'sali': 1}, 'uge': {'ugean': 1}, 'eba': {'eban': 1}, 'rut': {'ruti': 1}, 'ern': {'ernese': 1}, 'ham': {'hamian': 1}, 'urn': {'urnian': 1}, 'rak': {'rakian': 1}, 'ise': {'isean': 1}, 'goa': {'goan': 1}, 'ava': {'avan': 1}, 'tol': {'tolian': 1}, 'lyn': {'lynite': 1}, 'alo': {'alonian': 1}, 'rsa': {'rsanese': 1}, 'ais': {'aisiens': 1}, 'rns': {'rnsite': 1}, 'iff': {'iffian': 1}, 'per': {'perite': 1}, 'ebu': {'ebuano': 1}, 'won': {'wonian': 1}, 'tte': {'ttean': 1}, 'nne': {'nneite': 1}, 'ago': {'agoan': 1}, 'ack': {'ackian': 1}, 'ati': {'atian': 1}, 'bus': {'busite': 1}, 'nth': {'nthian': 1}, 'iba': {'ibano': 1}, 'egu': {'eguite': 1}, 'las': {'lasite': 1}, 'kar': {'karois': 1}, 'vao': {'vaoeño': 1}, 'lhi': {'lhite': 1}, 'zli': {'zlian': 1}, 'oit': {'oiter': 1}, 'ort': {'ortian': 1}, 'den': {'dener': 1}, 'ban': {'banite': 1}, 'lat': {'latian': 1}, 'aso': {'asoan': 1}, 'ene': {'enean': 1}, 'ett': {'ettite': 1}, 'rgo': {'rgoan': 1}, 'urt': {'urter': 1}, 'aza': {'azan': 1}, 'eva': {'evan': 1}, 'raz': {'razer': 1}, 'uil': {'uilean': 1}, 'umi': {'umite': 1}, 'ifa': {'ifan': 1}, 'noi': {'noian': 1}, 'bin': {'binite': 1}, 'nki': {'nkian': 1}, 'ill': {'illite': 1}, 'ess': {'essian': 1}, 'poh': {'pohian': 1}, 'aca': {'acan': 1}, 'mit': {'mitite': 1}, 'nju': {'njuite': 1}, 'hua': {'huan': 1}, 'chi': {'chite': 1}, 'eri': {'erian': 1}, 'sha': {'shan': 1}, 'lna': {'lnaiya': 1}, 'ner': {'nerite': 1}, 'gos': {'gosian': 1}, 'val': {'valois': 1}, 'zig': {'ziger': 1}, 'gao': {'gaoeño': 1}, 'ick': {'ickman': 1}, 'inz': {'inzer': 1}, 'yon': {'yonese': 1}, 'kay': {'kayite': 1}, 'tya': {'tyan': 1}, 'tua': {'tuan': 1}, 'hon': {'honian': 1}, 'ate': {'ateño': 1}, 'sin': {'sinite': 1}, 'ami': {'amian': 1}, 'lan': {'lanese': 1}, 'kee': {'keean': 1}, 'nsk': {'nskite': 1}, 'not': {'noter': 1}, 'eal': {'ealer': 1}, 'cow': {'cowite': 1}, 'ngh': {'nghi': 1}, 'oya': {'oyan': 1}, 'obi': {'obian': 1}, 'imo': {'imoite': 1}, 'ier': {'ieran': 1}, 'olk': {'olker': 1}, 'erg': {'erger': 1}, 'ank': {'ankian': 1}, 'aru': {'aruvian': 1}, 'esa': {'esan': 1}, 'ity': {'ityan': 1}, 'aha': {'ahan': 1}, 'rdu': {'rdunite': 1}, 'awa': {'awan': 1}, 'dua': {'duan': 1}, 'cah': {'cahan': 1}, 'hia': {'hian': 1}, 'enh': {'enher': 1}, 'uri': {'uriti': 1}, 'rgh': {'rgher': 1}, 'gue': {'guer': 1}, 'yat': {'yatin': 1}, 'ovo': {'ovoan': 1}, 'ahi': {'ahiya': 1}, 'nor': {'norian': 1}, 'igh': {'ighite': 1}, 'all': {'allite': 1}, 'eer': {'eerian': 1}, 'eno': {'enoite': 1}, 'ond': {'onder': 1}, 'oke': {'oker': 1}, 'ter': {'terian': 1}, 'rua': {'ruan': 1}, 'uen': {'uennais': 1}, 'Rye': {'Ryer': 1}, 'aul': {'aulite': 1}, 'sun': {'sunite': 1}, 'ose': {'osean': 1}, 'tle': {'tleite': 1}, 'oul': {'oulite': 1}, 'hai': {'hainese': 1}, 'fia': {'fian': 1}, 'ers': {'ersite': 1}, 'eld': {'eldian': 1}, 'olm': {'olmer': 1}, 'het': {'heti': 1}, 'oma': {'oman': 1}, 'see': {'seean': 1}, 'inn': {'inner': 1}, 'mpa': {'mpan': 1}, 'rtu': {'rtuan': 1}, 'isi': {'isian': 1}, 'mba': {'mban': 1}, 'zon': {'zonian': 1}, 'vor': {'vorite': 1}, 'lsa': {'lsan': 1}, 'rin': {'rinese': 1}, 'Van': {'Vanian': 1}, 'ruz': {'ruzano': 1}, 'zag': {'zagite': 1}, 'aco': {'acoite': 1}, 'rse': {'rser': 1}, 'mot': {'motter': 1}, 'thi': {'thian': 1}, 'ife': {'ifer': 1}, 'osu': {'osuite': 1}, 'van': {'vantsi': 1}, 'reb': {'reber': 1}, 'dak': {'dakian': 1}, 'ich': {'icher': 1}, 'lle': {'llenaar': 1}, 'zia': {'zian': 1}, 'ola': {'olan': 1}, 'lla': {'llan': 1}, 'ain': {'aini': 1}, 'esh': {'eshi': 1}, 'rus': {'rusian': 1}, 'ize': {'izean': 1}, 'zil': {'zilian': 1}, 'nei': {'neian': 1}, 'rde': {'rdean': 1}, 'oon': {'oonian': 1}, 'had': {'hadian': 1}, 'ile': {'ilean': 1}, 'çao': {'çaoan': 1}, 'dor': {'dorian': 1}, 'ypt': {'yptian': 1}, 'rea': {'rean': 1}, 'iji': {'ijian': 1}, 'ana': {'anaian': 1}, 'nea': {'nean': 1}, 'iti': {'itian': 1}, 'raq': {'raqi': 1}, 'ael': {'aeli': 1}, 'pan': {'panese': 1}, 'ait': {'aiti': 1}, 'bya': {'byan': 1}, 'ein': {'einer': 1}, 'awi': {'awian': 1}, 'rat': {'ratian': 1}, 'uru': {'uruan': 1}, 'ger': {'gerien': 1}, 'iue': {'iuean': 1}, 'ama': {'amanian': 1}, 'omé': {'oméan': 1}, 'one': {'onean': 1}, 'ten': {'tener': 1}, 'tia': {'tian': 1}, 'nka': {'nkan': 1}, 'ame': {'amer': 1}, 'ogo': {'ogolese': 1}, 'nga': {'ngan': 1}, 'alu': {'aluan': 1}, 'ela': {'elan': 1}, 'nam': {'namese': 1}, 'men': {'meni': 1}, 'bar': {'bari': 1}, 'bwe': {'bwean': 1}, 'peg': {'pegger': 1}, 'rch': {'rchian': 1}, 'kyo': {'kyoite': 1}, 'oto': {'otonian': 1}, 'hou': {'houite': 1}, 'hen': {'hener': 1}, 'pei': {'peian': 1}, 'Mai': {'Mainer': 1}, 'une': {'unekar': 1}, 'aya': {'ayan': 1}, 'abi': {'abian': 1}, 'oha': {'ohan': 1}, 'own': {'ownian': 1}, 'tta': {'ttan': 1}, 'ade': {'ader': 1}, 'gne': {'gneite': 1}, 'nca': {'ncais': 1}, 'cra': {'cran': 1}, 'nto': {'ntonian': 1}, 'nik': {'nikian': 1}, 'vik': {'viker': 1}, 'ech': {'echian': 1}, 'ork': {'orker': 1}, 'els': {'elsite': 1}, 'bat': {'bati': 1}, 'ona': {'onan': 1}, 'ott': {'ottois': 1}, 'nis': {'nisian': 1}, 'adh': {'adhian': 1}, 'dah': {'dahn': 1}, 'cat': {'cati': 1}, 'dad': {'dadi': 1}, 'ndu': {'nduite': 1}, 'phu': {'phuan': 1}, 'mbo': {'mboite': 1}, 'gon': {'gonese': 1}, 'ane': {'aner': 1}, 'daw': {'dawian': 1}, 'kek': {'kekite': 1}, 'nbe': {'nbean': 1}, 'ndy': {'ndyan': 1}, 'ket': {'ketian': 1}, 'lay': {'layan': 1}, 'ili': {'ili-an': 1}, 'uva': {'uvaian': 1}, 'ofa': {'ofan': 1}, 'ila': {'ilan': 1}, 'uro': {'uroan': 1}, 'kir': {'kirian': 1}, 'ren': {'renian': 1}, 'ako': {'akoan': 1}, 'ndi': {'ndian': 1}, 'uja': {'ujaite': 1}, 'are': {'arean': 1}, 'gwe': {'gwean': 1}, 'oek': {'oeker': 1}}


def not_find_in_L2(city):
    inhabitant = city
    if(city[-1:] in ['a']):
        inhabitant = inhabitant + 'n'
    if(city[-1:] in ['s','o','h']):
        inhabitant = inhabitant + 'ite'
    if(city.endswith('y')):
        inhabitant = inhabitant + 'sider'
    if(city[-1:] in ['i','u','e']):
        inhabitant = inhabitant + 'an'
    if(city[-1:] in ['z','m','w','b','r','t','s']):
        inhabitant = inhabitant + 'ian'
    return inhabitant + 'er'


def predictor(city):
    
    result = []
    letters = city[-3:]
    
    if letters in three_letter_dict:
        Keymax = max(zip(three_letter_dict[letters].values(), three_letter_dict[letters].keys()))[1]
        for i in three_letter_dict[letters]:
            result.append([city[:-3] + i, str(round(three_letter_dict[letters][i] *100 / sum(three_letter_dict[letters].values()),2))+'%'])
        return result,city[:-3]+ Keymax
    
    letters = city[-2:]
    if letters in two_letter_dict:
        Keymax = max(zip(two_letter_dict[letters].values(), two_letter_dict[letters].keys()))[1]
        for i in two_letter_dict[letters]:
            result.append([city[:-2] + i, str(round(two_letter_dict[letters][i] *100 / sum(two_letter_dict[letters].values()),2))+'%'])
        return result, city[:-2]+Keymax
    
    return [[not_find_in_L2(city), 'Low confidence']], not_find_in_L2(city)


st.title("ITP(Inhabitant Term Prediction)") 
input = st.text_input("Enter the city name here 👇🏻") 
output = predictor(input)

if input: 
       
        s = ''
        best_c = 0
        for i in output[0]:
            s+= i[0] + ', '
            if i[0] == output[1]:
                best_c = i[1] 
        if s.count(',') > 1:
            st.write("The possible names are ", s[:-2] + ".")
        else:
            st.write("The possible name is ", s[:-2] + ".")    
        if best_c == 'low confidence':
            st.write(f"The best name for inhabitants is **{output[1]}** with **{best_c}**.")    
        else:
            st.write(f"The best name for inhabitants is **{output[1]}** with a confidence level of **{best_c}**.") 